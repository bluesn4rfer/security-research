# Week 3 â€“ Continuing XSS labs (in progress)

## Overview
This week I focused on DOM-based XSS, completing a PortSwigger-style lab where the application uses `document.write` with content derived from `location.search`. I tested payload encoding/decoding behaviors, created a minimal proof-of-concept URL, and recorded evidence for the lab report.

---

## Labs Completed
- [DOM XSS in `document.write` sink using `location.search`](/labs/portswigger/xss/dom_document_write_location_search/report.md)  
  The app reads query-string data (`location.search`) and inserts it into the page through `document.write` without any encoding or sanitization, which allowed me to inject script code. I crafted a PoC URL with a simple `<script>alert(1)</script>` payload, confirmed execution in the browser, and documented the result with Burp and console evidence.

---

## Key Takeaways
- `document.write` is unsafe when it outputs untrusted data directly into the page â€” attackers can turn this into script execution.  
- Query string values (from `location.search`) are fully controllable by an attacker and should always be treated as untrusted input.  
- Safer alternatives include using DOM methods like `textContent` or properly encoding/escaping user data before writing it.   

---

## Progress Toward Goals
- âœ… Completed the DOM XSS lab using `document.write` + `location.search`.  
- âœ… Gathered screenshots, console logs, and Burp captures for documentation.  
- ðŸ”œ Next: continue with other DOM XSS labs (using `location.hash`, `postMessage`, and `innerHTML`).  


---

## Reflections
The challenge was mostly in spotting how the query string flowed into the page. Once I saw it was written with `document.write`, the payload itself was simple to craft.
 

---

## Next Steps
- Work through the remaining DOM XSS labs with other sources (`location.hash`, `postMessage`) and output locations (`innerHTML`, `eval`).  
- Add detailed payload examples and PoC URLs to each lab report.  
- Experiment with automated payload variations using Burp extensions or a simple script.  
- Document recommended mitigations in each report for practice (e.g., safe DOM APIs, CSP).